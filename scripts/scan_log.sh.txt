#!/bin/bash
# Scans a given log file for a predefined list of error patterns.
# Usage: ./scan_log.sh /path/to/logfile.log

LOG_FILE=$1
ERROR_PATTERNS=("error" "exception" "failed" "fatal" "critical")

if [ -z "$LOG_FILE" ]; then
  echo "Usage: $0 <path_to_log_file>"
  exit 1
fi

if [ ! -f "$LOG_FILE" ]; then
  echo "Error: File not found at $LOG_FILE"
  exit 1
fi

echo "Scanning $LOG_FILE for error patterns..."
for pattern in "${ERROR_PATTERNS[@]}"; do
  echo "--- Searching for '$pattern' (case-insensitive) ---"
  grep --color=auto -i -n "$pattern" "$LOG_FILE"
done
echo "Scan complete."
